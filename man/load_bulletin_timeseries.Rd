% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/SWE_maputils.R
\name{load_bulletin_timeseries}
\alias{load_bulletin_timeseries}
\title{Load all base data for the SWE mapping application}
\usage{
load_bulletin_timeseries(
  con,
  load_swe = TRUE,
  load_precip = FALSE,
  load_temp = FALSE,
  load_streamflow = FALSE,
  start_year_historical = 1991,
  end_year_historical = 2020,
  october_start = FALSE,
  epsg = 4326
)
}
\arguments{
\item{con}{DBI database connection object}

\item{load_swe}{Logical indicating whether to load SWE data (default TRUE)}

\item{load_precip}{Logical indicating whether to load precipitation data (default FALSE)}

\item{load_temp}{Logical indicating whether to load temperature data (default FALSE)}

\item{load_streamflow}{Logical indicating whether to load streamflow data (default FALSE)}

\item{start_year_historical}{Integer start year for historical norms (default 1991)}

\item{end_year_historical}{Integer end year for historical norms (default 2020)}

\item{october_start}{Logical indicating if water year starts in October (default FALSE)}

\item{epsg}{Numeric EPSG code for coordinate reference system (default 4326)}
}
\value{
A list containing all loaded base data:
\describe{
\item{pillows}{List with continuous station timeseries and metadata}
\item{surveys}{List with discrete station timeseries and metadata}
\item{basins}{List with basin-averaged timeseries and metadata}
\item{shapefiles}{List with spatial data (yukon, communities, roads)}
\item{precipitation}{List with precipitation timeseries and metadata (if loaded)}
\item{temperature}{List with temperature timeseries and metadata (if loaded)}
}
}
\description{
Loads all static data and reorganizes timeseries structure for efficient access.
Basin-averaged SWE is calculated for each timestep using discrete station data
and weighting factors.
}
\details{
This function performs several key operations:
\enumerate{
\item Loads continuous and discrete SWE timeseries
\item Calculates historical medians and relative values
\item Computes basin-averaged SWE using weighting factors
\item Loads spatial layers (boundaries, communities, roads)
\item Applies label position adjustments for optimal display
}

The resulting data structure is optimized for both interactive (Shiny) and
static (export) mapping applications.
}
\examples{
\dontrun{
con <- AquaCache::AquaConnect(...)
snowbull_data <- load_bulletin_data(con)

# Check data availability
print(sprintf("Loaded \%d pillow stations", nrow(snowbull_data$swe$pillows$metadata)))
print(sprintf("Loaded \%d survey stations", nrow(snowbull_data$swe$surveys$metadata)))
print(sprintf("Loaded \%d basins", nrow(snowbull_data$swe$basins$metadata)))
}

}
