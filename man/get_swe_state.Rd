% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/SWE_maputils.R
\name{get_swe_state}
\alias{get_swe_state}
\title{Extract SWE data at specific points for a given year and month}
\usage{
get_swe_state(data, year, month, key)
}
\arguments{
\item{data}{List containing timeseries and metadata from download functions}

\item{year}{Integer target year for data extraction}

\item{month}{Integer target month for data extraction}

\item{key}{Character name of the key column in metadata (e.g., "timeseries_id", "location_id")}
}
\value{
data.frame subset of metadata with additional SWE value columns:
\describe{
\item{swe}{Absolute SWE value in mm}
\item{relative_to_med}{SWE as percentage of historic median}
\item{historic_median}{Historic median SWE value for this date}
}
}
\description{
Extracts values for the target date from the reorganized timeseries structure
where data is organized by parameter type with stations as columns.
}
\details{
The function matches the target date (first of specified month/year) with
available timeseries data and extracts the relevant values for each station.
Missing data is represented as NA.
}
\examples{
\dontrun{
# Get pillow data for March 2025
pillow_data <- get_swe_state(
  snowbull_data$pillows,
  year = 2025,
  month = 3,
  key = "timeseries_id"
)

# Check data availability
valid_stations <- pillow_data[!is.na(pillow_data$swe), ]
}
}
